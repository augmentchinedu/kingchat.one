import{u as y,r as h,d,o as u,h as v,e as o,w as r,g as e,s as x,f as k,b as P,t as w,c as $,j as C,T,F as N,a as M,n as V,q as L}from"./index-Cq_jgrYn.js";const B={class:"absolute top-0 h-screen bg-[#ffffff70] w-full"},j={class:"flex flex-row justify-between w-full"},S={class:"flex items-center justify-start gap-2"},D=["src"],E={__name:"CreatePost",props:["show-modal"],emits:["toggle-modal","notify"],setup(b,{emit:_}){const i=_,l=y(),c=b,n=l.user,f=h(null);async function m(){const t={text:f.value.innerText.trim(),time:Date.now(),by:n.uid};await l.createPost(t)&&(i("toggle-modal",!c),i("notify","New Post Shared",300))}return(a,t)=>{const s=d("v-icon"),p=d("v-btn"),g=d("v-container");return u(),v("div",B,[o(g,{class:"bg-white flex flex-col gap-4 h-full"},{default:r(()=>[e("div",j,[o(s,{onClick:t[0]||(t[0]=Y=>i("toggle-modal",!c))},{default:r(()=>[x("mdi-close")]),_:1}),o(p,{density:"compact",rounded:"",flat:"",color:"green",onClick:m},{default:r(()=>[x("Post")]),_:1})]),e("div",S,[e("img",{src:k(n).profile.photoURL,class:"w-8 h-8 rounded-full"},null,8,D),o(p,{class:"border border-blue",flat:"",density:"compact"},{default:r(()=>[x("Everyone")]),_:1})]),e("div",{id:"text-box",class:"h-[50%]",contenteditable:"true",ref_key:"whatsHappening",ref:f}," What's happening? ",512)]),_:1})])}}},R={id:"add-post",class:"fixed bottom-0 right-0 mr-6 mb-6"},U={__name:"SpeedDial",setup(b){const _=P(),i=M("pageTitle"),l=h(!1),c=h(!0),n=h("");function f(a){l.value=a,a?i.emit("Create New Post"):i.emit(_.name)}function m(a,t){n.value=a,setTimeout(()=>c.value=!0,t)}return(a,t)=>{const s=d("v-snackbar"),p=d("v-btn");return u(),v(N,null,[o(s,{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=g=>c.value=g),top:"",timeout:5e3,transition:"slide-y-reverse-transition",class:"text-white"},{default:r(()=>[x(w(n.value),1)]),_:1},8,["modelValue"]),e("div",R,[o(p,{icon:"mdi-plus",color:"red",size:"default",onClick:t[1]||(t[1]=g=>f(!l.value))})]),o(T,{name:"slide-up"},{default:r(()=>[l.value?(u(),$(E,{key:0,"show-modal":l.value,onToggleModal:f,onNotify:m},null,8,["show-modal"])):C("",!0)]),_:1})],64)}}},F={class:"flex flex-col w-full relative"},H={class:"flex flex-row px-2 py-2 gap-2"},q={class:"grid items-center w-full"},z={class:"flex flex-row justify-between"},A={id:"preview"},I={class:"text-base"},W={class:"text-sm"},G={class:"grid items-center"},J={class:"text-xs"},K={class:"text-center"},Q={class:"text-xs"},X=e("hr",null,null,-1),O={__name:"Chats",setup(b){const _=y(),i=V(()=>_.chats);function l(n){return{path:`/chat/${n}`}}function c(n){return{path:`/${n}`}}return(n,f)=>{const m=d("v-img"),a=d("router-link"),t=d("v-badge");return u(),v("div",F,[(u(!0),v(N,null,L(i.value,(s,p)=>(u(),v("div",{key:p},[e("div",H,[e("div",null,[o(a,{to:c(s.profile.username)},{default:r(()=>[o(m,{src:s.profile.photoURL,class:"w-12 h-12 rounded-full","aspect-ratio":"1"},null,8,["src"])]),_:2},1032,["to"])]),e("div",q,[o(a,{to:l(s.profile.username)},{default:r(()=>[e("div",z,[e("div",A,[e("div",null,[e("span",I,w(s.profile.displayName),1)]),e("div",null,[e("span",W,w(s.lastMessage.message),1)])]),e("div",G,[e("div",null,[e("span",J,w(s.lastMessage.displayTime),1)]),e("div",K,[e("span",Q,[o(t,{color:"primary",content:s.unread,inline:""},null,8,["content"])])])])])]),_:2},1032,["to"])])]),X]))),128)),k(_).app.isLoggedIn?(u(),$(U,{key:0})):C("",!0)])}}};export{O as default};
