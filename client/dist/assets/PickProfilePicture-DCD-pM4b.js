import{u as w,r as n,b as l,c as P,j as b,h as a,f as o,w as y,g as C,m as I,q as R}from"./index-BcOv5rK5.js";const U={class:"grid content-center h-full w-full"},L=a("h2",{class:"my-2 text-center"},"Pick a profile picture",-1),$={class:"w-full p-4"},j={class:"flex flex-row flex-nowrap gap-2"},S={__name:"PickProfilePicture",setup(B){const _=I("theme"),u=R(),s=w(),d=n(),p=n(!1),m=n(s.user.photoURL),t=n("");function h(){t.value=d.value.$el.children[1].children[0].children[2].children[2].files[0],console.log(t.value),m.value=URL.createObjectURL(t.value)}function g(){u.push("/auth/create-username")}async function x(){p.value=!0;const i=s.user.uid;let e=t.value.name.split(".")[1];const r="users/avatars/"+i+"."+e;let c=await s.upload(t.value,r);await s.updateProfilePhotoImage(i,c),u.push("/auth/create-username")}return(i,e)=>{const r=l("v-img"),c=l("v-file-input"),f=l("v-btn"),k=l("v-form");return P(),b("div",U,[L,a("div",$,[o(r,{src:m.value,class:"w-96 h-96 mx-auto rounded-sm border","aspect-ratio":"1"},null,8,["src"])]),a("div",null,[o(k,{class:"flex flex-col mx-4 gap-4"},{default:y(()=>[o(c,{label:"Pick Photo","prepend-icon":"mdi-camera",variant:"filled",onInput:e[0]||(e[0]=v=>h()),ref_key:"file",ref:d},null,512),a("div",j,[o(f,{class:"mt-2 basis-1/3",text:"Skip",onClick:e[1]||(e[1]=v=>g())}),o(f,{loading:p.value,class:"mt-2 basis-2/3",text:"Upload",color:C(_).darken4,onClick:e[2]||(e[2]=v=>x())},null,8,["loading","color"])])]),_:1})])])}}};export{S as default};
