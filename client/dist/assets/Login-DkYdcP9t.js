import{u as y,r as v,E as B,b as r,c as C,j as I,h as l,f as s,w as g,H as U,g as n,n as P,m as S,q}from"./index-BcOv5rK5.js";import{r as w,o as E,u as L,e as N,b as j}from"./index-2yzqm-aN.js";import{_ as z}from"./Logo-CiY2BDhN.js";const A={class:"grid content-center h-full w-full"},D={class:"w-32 m-auto my-10"},F={class:"text-center my-2"},H=l("span",null,"Don't have an account? ",-1),J={__name:"Login",setup(M){const i=S("theme"),m=q(),h=y(),c=v(!1),u=v(!1),t=B({id:"",password:""}),b={id:{required:w,shouldBeChecked:E(N,j)},password:{required:w}},a=L(b,t);async function p(){c.value=!0,console.log("Logging In...");let d=await h.login(t);d?m.push("/home"):d=="invalid-credential"&&(u.value=!0)}function x(){m.push({path:"/auth/forgot-password",query:{id:t.id}})}return(d,o)=>{const V=r("v-alert"),f=r("v-text-field"),_=r("v-btn"),k=r("router-link"),$=r("v-form");return C(),I("div",A,[l("div",null,[l("div",D,[s(z,{class:"rounded-sm"})]),l("div",null,[s($,{onSubmit:U(p,["prevent"]),class:"flex flex-col mx-4 gap-4"},{default:g(()=>[s(V,{text:"Wrong Password",type:"error",modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=e=>u.value=e),rounded:"",closable:""},null,8,["modelValue"]),s(f,{modelValue:t.id,"onUpdate:modelValue":o[1]||(o[1]=e=>t.id=e),label:"Username or Email","error-messages":n(a).id.$errors.map(e=>e.$message),onBlur:n(a).id.$touch,onInput:n(a).id.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),s(f,{modelValue:t.password,"onUpdate:modelValue":o[2]||(o[2]=e=>t.password=e),label:"Password",type:"password",onBlur:n(a).password.$touch,onInput:n(a).password.$touch},null,8,["modelValue","onBlur","onInput"]),s(_,{loading:c.value,class:"mt-2",color:n(i).darken4,text:"Login",block:"",onClick:o[3]||(o[3]=e=>p())},null,8,["loading","color"]),s(_,{class:"mt-4",text:"Forgot Password",block:"",onClick:o[4]||(o[4]=e=>x())}),l("div",F,[H,s(k,{to:"/auth/signup"},{default:g(()=>[l("span",{class:"font-bold",style:P({color:n(i).darken4})},"Sign Up",4)]),_:1})])]),_:1})])])])}}};export{J as default};
