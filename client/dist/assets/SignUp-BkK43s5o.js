import{j as E,k as N,e as h,h as S,l as L,f as C,d as o,a as i,w as y,m as I,r as m,o as M,u as s}from"./index-BPADXg_z.js";import{u as D,r,m as F,a as J,e as z}from"./index-zz_AwoTE.js";const O={class:"grid content-center h-full w-full"},R=o("h2",{class:"my-2 text-center"},"Sign Up",-1),Z=o("div",null,[o("span",null,"Date Of Birth")],-1),j={class:"flex flex-row gap-1"},q={class:"basis-3/6"},Y={class:"basis-2/6"},G={class:"basis-2/6"},H={class:"text-center my-2"},K=o("span",null,"Already have an account? ",-1),P=o("span",{class:"font-bold"},"Login",-1),X={__name:"SignUp",setup(Q){const d=E(),V=N();let c=h(!1),u=h("");const e=S({name:"",email:"",password:"12345678",month:"",day:"",year:""}),x={name:{required:r,minLengthValue:F(1),maxLengthValue:J(50)},email:{required:r,email:z},month:{required:r},day:{required:r},year:{required:r}},n=D(x,e),$=L(()=>u.value!==""?(console.log(n.value.$invalid),!0):n.value.$invalid);let v=[];for(let t=31;t>0;t--)v.push(t);let f=[];for(let t=2024;t>1980;t--)f.push(t);let w=["January","February","March","April","May","June","July","August","September","October","November","December"];async function _(){console.log("SignUp Form Submitted",e),c.value=!0,e.email=e.email.toLowerCase();let t=await d.signup(e);console.log(d.app.user.uid,t),t.uid&&(c.value=!1,V.push("/auth/email-verification"))}async function g(t){u.value="",t.match(/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,6}$/)?(await d.verifyEmail(t)).data.email&&(u.value="Email already in use.",n.value.$invalid=!0):console.log("Email Not Verifiable")}return(t,l)=>{const k=m("v-img"),b=m("v-text-field"),p=m("v-select"),U=m("v-btn"),A=m("router-link"),B=m("v-form");return M(),C("div",O,[o("div",null,[i(k,{src:"../assets/img/logo.png",class:"w-20 h-20 mx-auto my-8 rounded-sm"})]),o("div",null,[R,i(B,{onSubmit:I(_,["prevent"]),class:"mx-4"},{default:y(()=>[i(b,{modelValue:e.name,"onUpdate:modelValue":l[0]||(l[0]=a=>e.name=a),label:"Name",placeholder:"Name cannot be blank",maxlength:"50",counter:"","error-messages":s(n).name.$errors.map(a=>a.$message),onBlur:s(n).name.$touch,onInput:s(n).name.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),i(b,{modelValue:e.email,"onUpdate:modelValue":l[1]||(l[1]=a=>e.email=a),label:"Email",onBlur:l[2]||(l[2]=a=>(g(e.email),s(n).email.$touch)),onInput:l[3]||(l[3]=a=>(g(e.email),s(n).email.$touch)),"error-messages":(s(n).email.$errors.map(a=>a.$message),s(u))},null,8,["modelValue","error-messages"]),Z,o("div",j,[o("div",q,[i(p,{label:"Month",items:s(w),modelValue:e.month,"onUpdate:modelValue":l[4]||(l[4]=a=>e.month=a)},null,8,["items","modelValue"])]),o("div",Y,[i(p,{label:"Day",items:s(v),modelValue:e.day,"onUpdate:modelValue":l[5]||(l[5]=a=>e.day=a)},null,8,["items","modelValue"])]),o("div",G,[i(p,{label:"Year",items:s(f),modelValue:e.year,"onUpdate:modelValue":l[6]||(l[6]=a=>e.year=a)},null,8,["items","modelValue"])])]),i(U,{loading:s(c),class:"mt-2",text:"Next",block:"",disabled:$.value,onClick:l[7]||(l[7]=a=>_())},null,8,["loading","disabled"]),o("div",H,[K,i(A,{to:"/auth/login"},{default:y(()=>[P]),_:1})])]),_:1})])])}}};export{X as default};
