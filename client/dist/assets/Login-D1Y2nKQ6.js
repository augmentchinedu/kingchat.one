import{u as B,r as g,E as y,b as n,c as C,j as I,h as l,f as s,w as f,H as U,g as r,p as P}from"./index-Bz6dU154.js";import{r as _,o as E,u as L,e as N,b as S}from"./index-5R1_pE9P.js";const q={class:"grid content-center h-full w-full"},j={class:"text-center my-2"},A=l("span",null,"Don't have an account? ",-1),D=l("span",{class:"font-bold"},"Sign Up",-1),R={__name:"Login",setup(F){const i=P(),w=B(),c=g(!1),u=g(!1),t=y({id:"",password:""}),b={id:{required:_,shouldBeChecked:E(N,S)},password:{required:_}},a=L(b,t);async function p(){c.value=!0,console.log("Logging In...");let d=await w.login(t);d?i.push("/home"):d=="invalid-credential"&&(u.value=!0)}function h(){i.push({path:"/auth/forgot-password",query:{id:t.id}})}return(d,o)=>{const x=n("v-img"),V=n("v-alert"),m=n("v-text-field"),v=n("v-btn"),k=n("router-link"),$=n("v-form");return C(),I("div",q,[l("div",null,[l("div",null,[s(x,{src:"../assets/img/icon-black.svg",class:"w-20 h-20 mx-auto my-8 rounded-2xl bg-red-500","aspect-ratio":"1"})]),l("div",null,[s($,{onSubmit:U(p,["prevent"]),class:"flex flex-col mx-4 gap-4"},{default:f(()=>[s(V,{text:"Wrong Password",type:"error",modelValue:u.value,"onUpdate:modelValue":o[0]||(o[0]=e=>u.value=e),rounded:"",closable:""},null,8,["modelValue"]),s(m,{modelValue:t.id,"onUpdate:modelValue":o[1]||(o[1]=e=>t.id=e),label:"Username or Email","error-messages":r(a).id.$errors.map(e=>e.$message),onBlur:r(a).id.$touch,onInput:r(a).id.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),s(m,{modelValue:t.password,"onUpdate:modelValue":o[2]||(o[2]=e=>t.password=e),label:"Password",type:"password",onBlur:r(a).password.$touch,onInput:r(a).password.$touch},null,8,["modelValue","onBlur","onInput"]),s(v,{loading:c.value,class:"mt-2",color:"indigo-darken-3",text:"Login",block:"",onClick:o[3]||(o[3]=e=>p())},null,8,["loading"]),s(v,{class:"mt-4",text:"Forgot Password",block:"",onClick:o[4]||(o[4]=e=>h())}),l("div",j,[A,s(k,{to:"/auth/signup"},{default:f(()=>[D]),_:1})])]),_:1})])])])}}};export{R as default};
