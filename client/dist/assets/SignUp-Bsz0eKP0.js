import{u as E,k as N,e as h,l as S,m as L,c as I,d as t,b as i,w as y,q as M,r,o as C,h as o}from"./index-D13uKbqF.js";import{u as D,r as u,m as F,a as J,e as q}from"./index-DRoSO6LY.js";const z={class:"grid content-center h-full w-full"},O=t("h2",{class:"my-2 text-center"},"Sign Up",-1),R=t("div",null,[t("span",null,"Date Of Birth")],-1),Z={class:"flex flex-row gap-1"},Y={class:"basis-3/6"},j={class:"basis-2/6"},G={class:"basis-2/6"},H={class:"text-center my-2"},K=t("span",null,"Already have an account?",-1),P=t("span",{class:"font-bold"},"Login",-1),X={__name:"SignUp",setup(Q){const m=E(),V=N();let p=h(!1),d=h("");const a=S({name:"",email:"",password:"12345678",month:"",day:"",year:""}),$={name:{required:u,minLengthValue:F(1),maxLengthValue:J(50)},email:{required:u,email:q},month:{required:u},day:{required:u},year:{required:u}},n=D($,a),x=L(()=>d.value!==""?(console.log(n.value.$invalid),!0):n.value.$invalid);let v=[];for(let s=31;s>0;s--)v.push(s);let _=[];for(let s=2024;s>1980;s--)_.push(s);let w=["January","February","March","April","May","June","July","August","September","October","November","December"];async function f(){p.value=!0,console.log("SignUp Form Submitted",a);let s=await m.signup(a);console.log(s,m.$state.app.user.uid),s.status==200&&(p.value=!1,await m.login({id:m.$state.app.user.email,password:a.password}),V.push("/auth/email-verification"))}async function g(s){d.value="",s.match(/^\w+@[a-zA-Z_]+?\.[a-zA-Z]{2,6}$/)?(await m.verifyEmail(s)).data.email&&(d.value="Email already in use.",n.value.$invalid=!0):console.log("Email Not Verifiable")}return(s,e)=>{const k=r("v-img"),b=r("v-text-field"),c=r("v-select"),U=r("v-btn"),A=r("router-link"),B=r("v-form");return C(),I("div",z,[t("div",null,[i(k,{src:"../assets/img/logo.png",class:"w-20 h-20 mx-auto my-8 rounded-sm"})]),t("div",null,[O,i(B,{onSubmit:M(f,["prevent"]),class:"mx-4"},{default:y(()=>[i(b,{modelValue:a.name,"onUpdate:modelValue":e[0]||(e[0]=l=>a.name=l),label:"Name",placeholder:"Name cannot be blank",maxlength:"50",counter:"","error-messages":o(n).name.$errors.map(l=>l.$message),onBlur:o(n).name.$touch,onInput:o(n).name.$touch},null,8,["modelValue","error-messages","onBlur","onInput"]),i(b,{modelValue:a.email,"onUpdate:modelValue":e[1]||(e[1]=l=>a.email=l),label:"Email",onBlur:e[2]||(e[2]=l=>(g(a.email),o(n).email.$touch)),onInput:e[3]||(e[3]=l=>(g(a.email),o(n).email.$touch)),"error-messages":(o(n).email.$errors.map(l=>l.$message),o(d))},null,8,["modelValue","error-messages"]),R,t("div",Z,[t("div",Y,[i(c,{label:"Month",items:o(w),modelValue:a.month,"onUpdate:modelValue":e[4]||(e[4]=l=>a.month=l)},null,8,["items","modelValue"])]),t("div",j,[i(c,{label:"Day",items:o(v),modelValue:a.day,"onUpdate:modelValue":e[5]||(e[5]=l=>a.day=l)},null,8,["items","modelValue"])]),t("div",G,[i(c,{label:"Year",items:o(_),modelValue:a.year,"onUpdate:modelValue":e[6]||(e[6]=l=>a.year=l)},null,8,["items","modelValue"])])]),i(U,{loading:o(p),class:"mt-2",text:"Next",block:"",disabled:x.value,onClick:e[7]||(e[7]=l=>f())},null,8,["loading","disabled"]),t("div",H,[K,i(A,{to:"/auth/login"},{default:y(()=>[P]),_:1})])]),_:1})])])}}};export{X as default};
